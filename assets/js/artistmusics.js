const container=document.querySelector(".artist-musics");function setTitles(){const t=document.querySelector(".artist-name"),e=location.search,n=new URLSearchParams(e).get("q");document.title=`Musipart || ${n}`,t.textContent=n,getDatasAndFilterIt(n)}async function getDatasAndFilterIt(t=""){const e="https://haji-api.ir/music?q=";try{const n=[fetch(`${e}new`),fetch(`${e}week`),fetch(`${e}day`)],s=await Promise.all(n),a=[];for(let t=0;t<s.length;t++)a.push((await s[t].json()).results);const i=a.flat().filter((e=>e.artists.find((e=>e.fullName===t))));i.length>0?createHTMLElementsFromData(i):(hidePreloader(),container.innerHTML='<p class="content__not-found">No Musics Found !</p>')}catch(t){t&&(hidePreloader(),showAlert("error","Something went Wrong !"),setTimeout(hideAlert,1e3))}}function createHTMLElementsFromData(t=[]){let e;const n=document.createElement("div");n.className="allmusics-section",t.forEach((t=>{e=`\n<div class="music-card">\n<div class="music-card__img-container">\n<img loading="lazy" class="music-card__img" src="${t.image.cover.url}" />\n<button class="music-card__play-btn" onclick="playEntireMusic(event,'${t.id}')">\n<img src="/assets/icons/play-mini-line.svg"/>\n</button>\n</div>\n<div class="music-card__informations">\n<a href="/pages/singlemusicpage.html?id=${t.id}" class="informations__music-name">${t.title}</a>  \n<small class="informations__music-artist">${t.artists.map((t=>t.fullName))}</small>\n</div>\n</div>`,n.insertAdjacentHTML("beforeend",e)})),appendMusicsIntoDom(n)}function appendMusicsIntoDom(t){container.append(t),hidePreloader()}window.addEventListener("load",setTitles);
