const searchInput=document.querySelector(".search-input"),helpTag=document.querySelector(".help"),container=document.querySelector(".allmusics__searched");function handleSearchQuery(a){const e=a.target.value;if(!a.target.value)return helpTag.style.display="block",void(container.innerHTML="");helpTag.style.display="none";getDatasFromApi(`https://haji-api.ir/music?q=search&t=${e}`)}async function getDatasFromApi(a){try{const e=await fetch(a),s=(await e.json()).results.filter((a=>a.hasOwnProperty("song")));200===e.status&&manipulateHtml(s)}catch(a){}}let musicsWrapper,musicCard;function manipulateHtml(a=[]){musicsWrapper=document.createElement("div"),musicsWrapper.className="allmusics-section",a.forEach((({song:a})=>{musicCard=`\n<div class="music-card">\n<div class="music-card__img-container">\n<img class="music-card__img" src="${a.image.cover.url}" loading="lazy" />\n<button class="music-card__play-btn" onclick="playEntireMusic(event,'${a.id}')">\n<img src="/assets/icons/play-mini-line.svg"/>\n</button>\n</div>\n<div class="music-card__informations">\n<a href="/pages/singlemusicpage.html?id=${a.id}" class="informations__music-name">${a.title}</a>  \n${a.artists.map((a=>`<a class="informations__music-artist" href="/pages/artistmusics.html?q=${a.fullName}">${a.fullName}</a>`))}\n</div>\n</div>`,musicsWrapper.insertAdjacentHTML("beforeend",musicCard)})),insertInDom(musicsWrapper)}function insertInDom(a){container.innerHTML="",container.append(a)}searchInput.addEventListener("input",handleSearchQuery);
