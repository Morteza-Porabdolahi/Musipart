const playBtn=document.querySelector(".control:nth-child(2)"),audioElem=document.querySelector("audio");playBtn.addEventListener("click",playOrPauseAudio),window.addEventListener("load",getSingleMuaic);let isPlaying=!1;async function getSingleMuaic(){try{const e=new URLSearchParams(location.search).get("id"),t=await fetch(`https://haji-api.ir/music?q=info&t=${e}`),i=await t.json();i.hasOwnProperty("id")?(document.title=`Musipart || ${i.title}`,handleData(i)):location.href="/pages/404.html"}catch(e){e&&(hidePreloader(),showAlert("error","Something went Wrong !"),setTimeout(hideAlert,1e3))}}function handleData(e){const t=document.querySelector(".description__image > img"),i=document.querySelector(".texts__titles > h3"),n=document.querySelector(".texts__titles > p"),a=document.querySelector(".description__lyrics > p");t.alt=e.title,t.src=e.image.cover.url,i.textContent=e.title,n.textContent=e.artists.map((e=>e.fullName)),a.textContent=e.lyrics?e.lyrics:"No lyrics Found...!",audioElem.src=e.audio.medium.url,hidePreloader()}function pauseMusic(){isPlaying=!1,playBtn.firstElementChild.src="/assets/icons/play-mini-line.svg",audioElem.pause()}function playMusic(){isPlaying=!0,playBtn.firstElementChild.src="/assets/icons/pause-mini-line.svg",audioElem.play()}function playOrPauseAudio(){isPlaying?pauseMusic():playMusic()}
