async function getAllSongs(){try{manipulateDatas({newMusics:(await(await fetch("https://haji-api.ir/music?q=new")).json()).results,topArtists:(await(await fetch("https://haji-api.ir/music?q=trend")).json()).results,dailyMusics:(await(await fetch("https://haji-api.ir/music?q=day")).json()).results,weeklyMusics:(await(await fetch("https://haji-api.ir/music?q=week")).json()).results})}catch(t){t&&(hidePreloader(),showAlert("error","Something went Wrong !"),setTimeout(hideAlert,1e3))}}function manipulateDatas(t={}){const s={};for(const a in t)s[a]=t[a].splice(...makeStartAndEndIndex(t[a],6));createHtmlElementsFromDatas(s)}function makeStartAndEndIndex(t=[],s){const a=Math.floor(Math.random()*t.length);return t.length-a<s?[a-s<0?0:a-s,s]:[a,s]}function createHtmlElementsFromDatas(t={}){let s,a,i,n;for(const e in t){if(i=document.createElement("div"),i.className="section__content",s=t[e],s.length<=0)i.style.justifyContent="center",i.innerHTML='<p class="content__not-found">No Musics Found !</p>';else for(let t=0;t<s.length;t++)a=s[t],"topArtists"==e?(n=`\n<div class="artist-card">\n<div class="artist-card__img-container">\n<img loading="lazy" class="artist-card__img" src="${a.image.cover.url}"/>\n</div>\n<div class="artist-card__informations">\n<a href="/pages/artistmusics.html?q=${a.fullName}" class="informations__artist-name">${a.fullName}</a>\n</div>\n</div>`,i.insertAdjacentHTML("beforeend",n)):(n=`\n<div class="music-card">\n<div class="music-card__img-container">\n<img loading="lazy" class="music-card__img" src="${a.image.cover.url}" />\n<button onclick="playEntireMusic(event,'${a.id}')" class="music-card__play-btn">\n<img src="/assets/icons/play-mini-line.svg"/>\n</button>\n</div>\n<div class="music-card__informations">\n<a class="informations__music-name" href="/pages/singlemusicpage.html?id=${a.id}">${a.title}</a>\n${a.artists.map((t=>`<a class="informations__music-artist" href="/pages/artistmusics.html?q=${t.fullName}">${t.fullName}</a>`))}\n</div>\n</div>`,i.insertAdjacentHTML("beforeend",n));insertInDom(e,i)}}function insertInDom(t,s){document.querySelector(`.${t}`).appendChild(s),hidePreloader()}window.addEventListener("load",getAllSongs);
