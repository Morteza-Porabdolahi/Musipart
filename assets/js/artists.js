const searchInputs=document.querySelectorAll(".search-input");async function getArtistsData(){try{const t="https://haji-api.ir/music?q=trend",e=await fetch(t),a=await e.json();window.allArtists=a.results}catch(t){t&&(hidePreloader(),showAlert("error","Something went wrong !"),setTimeout(hideAlert,1e3))}createHTMLElementsFromData(allArtists)}window.addEventListener("load",getArtistsData),searchInputs.forEach((t=>t.addEventListener("input",handleSearch)));const allArtistsWrapper=document.createElement("div");function createHTMLElementsFromData(t=[]){let e;t.forEach((t=>{e=`\n            <div class="artist-card">\n                <div class="artist-card__img-container">\n                    <img loading="lazy" class="artist-card__img" src="${t.image.cover.url}"/>\n                </div>\n                <div class="artist-card__informations">\n                    <a href="/pages/artistmusics.html?q=${t.fullName}" class="informations__artist-name">${t.fullName}</a>\n                </div>\n            </div>`,allArtistsWrapper.insertAdjacentHTML("beforeend",e)})),appendContainerIntoDom(allArtistsWrapper)}function appendContainerIntoDom(t){document.querySelector(".artists").appendChild(t),hidePreloader()}function handleSearch(t){const e=allArtists.filter((e=>t.target.value?e.fullName.toLowerCase().includes(t.target.value.toLowerCase()):e));allArtistsWrapper.innerHTML="",createHTMLElementsFromData(e)}allArtistsWrapper.className="artists-section";
