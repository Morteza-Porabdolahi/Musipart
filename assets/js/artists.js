const searchInput=document.querySelector(".search-input");async function getArtistsData(){try{const t="https://haji-api.ir/music?q=trend",a=await fetch(t),e=await a.json();window.allArtists=e.results}catch(t){t&&hidePreloader()}createHTMLElementsFromData(allArtists)}window.addEventListener("load",getArtistsData),searchInput.addEventListener("input",handleSearch);const allArtistsWrapper=document.createElement("div");function createHTMLElementsFromData(t=[]){let a;t.forEach((t=>{a=`\n            <div class="artist-card">\n                <div class="artist-card__img-container">\n                    <img loading="lazy" class="artist-card__img" src="${t.image.cover.url}"/>\n                </div>\n                <div class="artist-card__informations">\n                    <a href="/pages/artistmusics.html?q=${t.fullName}" class="informations__artist-name">${t.fullName}</a>\n                </div>\n            </div>`,allArtistsWrapper.insertAdjacentHTML("beforeend",a)})),appendContainerIntoDom(allArtistsWrapper)}function appendContainerIntoDom(t){document.querySelector(".artists").appendChild(t),hidePreloader()}function handleSearch(t){const a=allArtists.filter((a=>t.target.value?a.fullName.toLowerCase().includes(t.target.value.toLowerCase()):a));allArtistsWrapper.innerHTML="",createHTMLElementsFromData(a)}allArtistsWrapper.className="artists-section";
